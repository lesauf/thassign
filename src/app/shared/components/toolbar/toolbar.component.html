<!-- <stbui-loading *ngIf="showLoading"></stbui-loading> -->
<mat-toolbar
  class="d-flex flex-row justify-content-between align-items-center mat-elevation-z4"
>
  <div class="d-flex flex-grow-1" >
    <button
      mat-icon-button
      (click)="sidenav.toggle(); drawer.toggle()"
      *ngIf="matDrawerShow"
    >
      <i class="material-icons app-toolbar-menu">menu </i>
    </button>
    <button mat-icon-button (click)="sidenav.toggle()" *ngIf="!matDrawerShow">
      <i class="material-icons app-toolbar-menu">menu </i>
    </button>
  </div>

  <!-- Right icons and user menu -->
  <div class="d-flex flex-grow-1 flex-row justify-content-end align-items-center ">
    <button mat-icon-button (click)="showNotificationsDialog($event)">
      <mat-icon [matBadge]="messageService.messages.length"
        >notifications_none</mat-icon
      >
    </button>

    <ma-language-picker></ma-language-picker>

    <ma-user-menu [currentUser]="currentUser.customData"></ma-user-menu>

    <!-- Language selector -->
    <!-- TODO a better job displaying the language selector -->
    <!-- <mat-form-field>
      <span matPrefix style="margin-right: 8px;">
        <mat-icon>language</mat-icon>
      </span>

      <mat-select
        name="language"
        [(ngModel)]="language"
        (selectionChange)="changeLanguage()"
      >
        <mat-option value="en"> English </mat-option>
        <mat-option value="fr"> Fran√ßais </mat-option>
      </mat-select>
    </mat-form-field> -->
  </div>
</mat-toolbar>
