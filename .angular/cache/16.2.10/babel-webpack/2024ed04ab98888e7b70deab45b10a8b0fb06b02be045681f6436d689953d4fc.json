{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@src/app/core/services/part.service\";\n/**\r\n * User form generation\r\n */\nexport class UserEditProvider {\n  constructor(formBuilder, partService) {\n    this.formBuilder = formBuilder;\n    this.partService = partService;\n    this.manFieldsDisable = new BehaviorSubject(false);\n    this.overseerFieldsDisable = new BehaviorSubject(false);\n  }\n  initForm(user) {\n    // If it is a woman, child, not publisher or unbaptized :\n    // disable overseer fields\n    this.setManFieldsDisable(user.genre === 'woman');\n    this.setOverseerFieldsDisable(user.genre === 'woman' || user.child === true || user.baptized === false || user.publisher === false);\n  }\n  setManFieldsDisable(val) {\n    this.manFieldsDisable.next(val); // => true -> disabled\n  }\n\n  setOverseerFieldsDisable(val) {\n    this.overseerFieldsDisable.next(val); // => true -> disabled\n  }\n\n  getManFieldsDisable() {\n    return this.manFieldsDisable.asObservable();\n  }\n  getOverseerFieldsDisable() {\n    return this.overseerFieldsDisable.asObservable();\n  }\n  static #_ = this.ɵfac = function UserEditProvider_Factory(t) {\n    return new (t || UserEditProvider)(i0.ɵɵinject(i1.UntypedFormBuilder), i0.ɵɵinject(i2.PartService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserEditProvider,\n    factory: UserEditProvider.ɵfac\n  });\n}","map":{"version":3,"names":["BehaviorSubject","UserEditProvider","constructor","formBuilder","partService","manFieldsDisable","overseerFieldsDisable","initForm","user","setManFieldsDisable","genre","setOverseerFieldsDisable","child","baptized","publisher","val","next","getManFieldsDisable","asObservable","getOverseerFieldsDisable","_","i0","ɵɵinject","i1","UntypedFormBuilder","i2","PartService","_2","factory","ɵfac"],"sources":["C:\\Users\\CSEG\\Desktop\\thassign\\src\\app\\modules\\users\\pages\\user-edit\\user-edit.provider.ts"],"sourcesContent":["import {\r\n  UntypedFormGroup,\r\n  Validators,\r\n  UntypedFormBuilder,\r\n  FormControl,\r\n} from '@angular/forms';\r\nimport { Injectable, OnInit } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n// import { User } from '../../../models/users.schema';\r\n// import { any } from '../../../../../../server/src/modules/users/user.schema';\r\nimport { PartService } from '@src/app/core/services/part.service';\r\nimport { ValidationService } from '@src/app/core/services/validation.service';\r\n\r\n/**\r\n * User form generation\r\n */\r\n@Injectable()\r\nexport class UserEditProvider {\r\n  private manFieldsDisable: BehaviorSubject<boolean> = new BehaviorSubject(\r\n    false\r\n  );\r\n  private overseerFieldsDisable: BehaviorSubject<boolean> = new BehaviorSubject(\r\n    false\r\n  );\r\n  private form: UntypedFormGroup;\r\n\r\n  constructor(\r\n    private formBuilder: UntypedFormBuilder,\r\n    private partService: PartService\r\n  ) {}\r\n\r\n  initForm(user: any) {\r\n    // If it is a woman, child, not publisher or unbaptized :\r\n    // disable overseer fields\r\n    this.setManFieldsDisable(user.genre === 'woman');\r\n\r\n    this.setOverseerFieldsDisable(\r\n      user.genre === 'woman' ||\r\n        user.child === true ||\r\n        user.baptized === false ||\r\n        user.publisher === false\r\n    );\r\n  }\r\n\r\n  setManFieldsDisable(val) {\r\n    this.manFieldsDisable.next(val); // => true -> disabled\r\n  }\r\n\r\n  setOverseerFieldsDisable(val) {\r\n    this.overseerFieldsDisable.next(val); // => true -> disabled\r\n  }\r\n\r\n  getManFieldsDisable() {\r\n    return this.manFieldsDisable.asObservable();\r\n  }\r\n\r\n  getOverseerFieldsDisable() {\r\n    return this.overseerFieldsDisable.asObservable();\r\n  }\r\n}\r\n"],"mappings":"AAOA,SAASA,eAAe,QAAQ,MAAM;;;;AAMtC;;;AAIA,OAAM,MAAOC,gBAAgB;EAS3BC,YACUC,WAA+B,EAC/BC,WAAwB;IADxB,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IAVb,KAAAC,gBAAgB,GAA6B,IAAIL,eAAe,CACtE,KAAK,CACN;IACO,KAAAM,qBAAqB,GAA6B,IAAIN,eAAe,CAC3E,KAAK,CACN;EAME;EAEHO,QAAQA,CAACC,IAAS;IAChB;IACA;IACA,IAAI,CAACC,mBAAmB,CAACD,IAAI,CAACE,KAAK,KAAK,OAAO,CAAC;IAEhD,IAAI,CAACC,wBAAwB,CAC3BH,IAAI,CAACE,KAAK,KAAK,OAAO,IACpBF,IAAI,CAACI,KAAK,KAAK,IAAI,IACnBJ,IAAI,CAACK,QAAQ,KAAK,KAAK,IACvBL,IAAI,CAACM,SAAS,KAAK,KAAK,CAC3B;EACH;EAEAL,mBAAmBA,CAACM,GAAG;IACrB,IAAI,CAACV,gBAAgB,CAACW,IAAI,CAACD,GAAG,CAAC,CAAC,CAAC;EACnC;;EAEAJ,wBAAwBA,CAACI,GAAG;IAC1B,IAAI,CAACT,qBAAqB,CAACU,IAAI,CAACD,GAAG,CAAC,CAAC,CAAC;EACxC;;EAEAE,mBAAmBA,CAAA;IACjB,OAAO,IAAI,CAACZ,gBAAgB,CAACa,YAAY,EAAE;EAC7C;EAEAC,wBAAwBA,CAAA;IACtB,OAAO,IAAI,CAACb,qBAAqB,CAACY,YAAY,EAAE;EAClD;EAAC,QAAAE,CAAA,G;qBAzCUnB,gBAAgB,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,kBAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAhB1B,gBAAgB;IAAA2B,OAAA,EAAhB3B,gBAAgB,CAAA4B;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}